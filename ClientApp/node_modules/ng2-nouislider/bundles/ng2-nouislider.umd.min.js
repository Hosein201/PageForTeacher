!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("nouislider"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","nouislider","@angular/core","@angular/forms"],e):e(t["ng2-nouislider"]={},t.noUiSlider,t.ng.core,t.ng.forms)}(this,function(t,s,n,e){"use strict";var a=(i.prototype.to=function(t){return String(parseFloat(parseFloat(String(t)).toFixed(2)))},i.prototype.from=function(t){return parseFloat(t)},i);function i(){}var r=(o.prototype.ngOnInit=function(){var i=this,t=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:this.formControl!==undefined?this.formControl.value:this.ngModel,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(t.tooltips=this.tooltips||this.config.tooltips,t.format=this.format||this.config.format||new a,this.slider=s.create(this.el.nativeElement.querySelector("div"),Object.assign(this.config,t)),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){this.config.pageSteps===undefined&&(this.config.pageSteps=10);for(var e=function(t){t.setAttribute("tabindex",0),t.addEventListener("click",function(){t.focus()}),n.config.onKeydown===undefined?t.addEventListener("keydown",n.defaultKeyHandler):t.addEventListener("keydown",n.config.onKeydown)},n=this,r=0,o=this.handles;r<o.length;r++)e(o[r])}this.slider.on("set",function(t,e,n){i.eventHandler(i.set,t,e,n)}),this.slider.on("update",function(t,e,n){i.update.emit(i.toValues(t))}),this.slider.on("change",function(t,e,n){i.change.emit(i.toValues(t))}),this.slider.on("slide",function(t,e,n){i.eventHandler(i.slide,t,e,n)}),this.slider.on("start",function(t,e,n){i.start.emit(i.toValues(t))}),this.slider.on("end",function(t,e,n){i.end.emit(i.toValues(t))})},o.prototype.ngOnChanges=function(t){var e=this;this.slider&&(t.min||t.max||t.step||t.range)&&setTimeout(function(){e.slider.updateOptions({range:Object.assign({},{min:e.min,max:e.max},e.range||{}),step:e.step})})},o.prototype.toValues=function(t){var e=t.map(this.config.format.from);return 1==e.length?e[0]:e},o.prototype.writeValue=function(t){var e=this;this.slider&&setTimeout(function(){e.slider.set(t)})},o.prototype.registerOnChange=function(t){this.onChange=t},o.prototype.registerOnTouched=function(t){this.onTouched=t},o.prototype.setDisabledState=function(t){t?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")},o);function o(t,e){var u=this;this.el=t,this.renderer=e,this.config={},this.change=new n.EventEmitter(!0),this.update=new n.EventEmitter(!0),this.slide=new n.EventEmitter(!0),this.set=new n.EventEmitter(!0),this.start=new n.EventEmitter(!0),this.end=new n.EventEmitter(!0),this.onChange=Function.prototype,this.onTouched=Function.prototype,this.eventHandler=function(t,e,n,i){var r=u.toValues(e),o=!1;u.value!==undefined?(Array.isArray(r)&&u.value[n]!=r[n]&&(o=!0),Array.isArray(r)||u.value==r||(o=!0),o&&(t.emit(r),u.onChange(r)),Array.isArray(r)?u.value[n]=r[n]:u.value=r):u.value=r},this.defaultKeyHandler=function(t){var e,n,i=u.slider.steps(),r=parseInt(t.target.getAttribute("data-handle")),o=1,s=1,a=0;switch(t.which){case 34:s=u.config.pageSteps;case 40:case 37:o=-1,a=i[r][0],t.preventDefault();break;case 33:s=u.config.pageSteps;case 38:case 39:a=i[r][1],t.preventDefault()}e=o*s*a,Array.isArray(u.value)?(n=[].concat(u.value))[r]=n[r]+e:n=u.value+e,u.slider.set(n)}}r.decorators=[{type:n.Component,args:[{selector:"nouislider",host:{"[class.ng2-nouislider]":"true"},template:'<div [attr.disabled]="disabled ? true : undefined"></div>',styles:["\n    :host {\n      display: block;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }\n  "],providers:[{provide:e.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return r}),multi:!0}]}]}],r.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},r.propDecorators={disabled:[{type:n.Input}],behaviour:[{type:n.Input}],connect:[{type:n.Input}],limit:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],snap:[{type:n.Input}],animate:[{type:n.Input}],range:[{type:n.Input}],step:[{type:n.Input}],format:[{type:n.Input}],pageSteps:[{type:n.Input}],config:[{type:n.Input}],ngModel:[{type:n.Input}],keyboard:[{type:n.Input}],onKeydown:[{type:n.Input}],formControl:[{type:n.Input}],tooltips:[{type:n.Input}],change:[{type:n.Output}],update:[{type:n.Output}],slide:[{type:n.Output}],set:[{type:n.Output}],start:[{type:n.Output}],end:[{type:n.Output}]};var u=function p(){};u.decorators=[{type:n.NgModule,args:[{exports:[r],declarations:[r]}]}],u.ctorParameters=function(){return[]},t.DefaultFormatter=a,t.NouisliderComponent=r,t.NouisliderModule=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-nouislider.umd.min.js.map
